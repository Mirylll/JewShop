@page "/admin/dashboard"
@using Microsoft.AspNetCore.Authorization
@using JewShop.Client.Services
@attribute [Authorize(Roles = "admin")]
@layout AdminLayout
@inject IAuthService AuthService
@inject NavigationManager Navigation

<PageTitle>Bảng điều khiển Admin</PageTitle>

<section class="admin-dashboard container mt-5">
    <div class="alert alert-success">
        <h1>Chào mừng tới trang quản trị!</h1>
        <p>Bạn đã đăng nhập thành công với quyền <strong>Admin</strong>.</p>
    </div>
    <p>Hãy chọn một mục trong menu để bắt đầu quản lý cửa hàng.</p>
    
    <button class="btn btn-danger mt-3" @onclick="HandleLogout">
        Đăng xuất
    </button>
</section>

@code {
    private async Task HandleLogout()
    {
        
        await AuthService.Logout();

        
        Navigation.NavigateTo("/"); 
    }
}